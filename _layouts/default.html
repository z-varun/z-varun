<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta name="description" content="{{ page.description | default: site.description }}">
     <meta name="author" content="{{ site.author.name }}">

     <!-- Security headers -->
     <meta name="referrer" content="strict-origin-when-cross-origin">

     <!-- ============================================
         NEW: SEO & Social Media Meta Tags
         ============================================ -->
     <!-- Open Graph / Facebook -->
     <meta property="og:type" content="website">
     <meta property="og:url" content="{{ site.url }}{{ page.url }}">
     <meta property="og:title" content="{{ page.title | default: site.title }}">
     <meta property="og:description" content="{{ page.description | default: site.description }}">
     <meta property="og:image" content="{{ site.url }}/assets/images/og-image.jpg">

     <!-- Twitter -->
     <meta name="twitter:card" content="summary_large_image">
     <meta name="twitter:url" content="{{ site.url }}{{ page.url }}">
     <meta name="twitter:title" content="{{ page.title | default: site.title }}">
     <meta name="twitter:description" content="{{ page.description | default: site.description }}">
     <meta name="twitter:image" content="{{ site.url }}/assets/images/og-image.jpg">

     <title>{{ page.title | default: site.title }}</title>

     <!-- Favicon -->
     <link rel="icon" type="image/png" href="{{ '/assets/images/icons8-cyber-security-100.png' | relative_url }}">
     <link rel="apple-touch-icon" type="image/png"
          href="{{ '/assets/images/icons8-apple-inc-100.png' | relative_url }}">

     <!-- ============================================
         UPDATED: Performance Optimizations
         ============================================ -->
     <!-- Preconnect for faster resource loading -->
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
     <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">

     <!-- Main CSS -->
     <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">

     <!-- Google Fonts with display=swap for better performance -->
     <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
          rel="stylesheet" crossorigin="anonymous">

     <!-- Optimized Font Awesome Loading -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
          integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
          crossorigin="anonymous" media="print" id="fontawesome-css">

     <noscript>
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
               integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
               crossorigin="anonymous">
     </noscript>

     <!-- Page-specific CSS -->
     {% if page.custom_css %}
     <link rel="stylesheet" href="{{ '/assets/css/' | append: page.custom_css | append: '.css' | relative_url }}">
     {% endif %}


     <!-- Structured Data for SEO - JSON-LD is safe, not executable -->
     <script type="application/ld+json">
          {
               "@context": "https://schema.org",
               "@type": "Person",
               "name": "{{ site.author.name }}",
               "url": "{{ site.url }}",
               "image": "{{ site.url }}/assets/images/profile.jpg",
               "jobTitle": "Senior Security Engineer",
               "description": "{{ site.description }}",
               "sameAs": [
                    "https://linkedin.com/in/varunbhandari",
                    "https://github.com/yourgithub"
               ],
               "knowsAbout": [
                    "DevSecOps",
                    "Cloud Security",
                    "Kubernetes Security",
                    "CI/CD Pipeline Security",
                    "Infrastructure as Code"
               ]
          }
     </script>


</head>

<body>
     {% include navigation.html %}

     <main id="main-content" class="main-content">
          {{ content }}
     </main>

     {% include footer.html %}

     <!-- External JavaScript Files (loaded at the end for performance) -->
     <script src="{{ '/assets/js/main.js' | relative_url }}"></script>

     {% if page.custom_js %}
     <script src="{{ '/assets/js/' | append: page.custom_js | append: '.js' | relative_url }}"></script>
     {% endif %}

     {% if page.url == '/blog' or page.url == '/blog/' or page.url == '/blog/index.html' %}
     <script src="{{ '/assets/js/blog.js' | relative_url }}"></script>
     {% endif %}

     {% if page.url == '/about' or page.url == '/about/' or page.url == '/about.html' %}
     <script src="{{ '/assets/js/about-page.js' | relative_url }}"></script>
     {% endif %}

     {% if page.url == '/thank-you' or page.url == '/thank-you/' %}
     <script src="{{ '/assets/js/thank-you.js' | relative_url }}"></script>
     {% endif %}
     <!-- Load reading progress script for blog posts -->
     {% if page.layout == 'post' %}
     <script src="/assets/js/reading-progress.js"></script>
     {% endif %}

</body>

</html>